{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao solicitar acesso remoto: dispositivo não encontrado\",\"meta\":{\"environmentId\":\"4b58a6ec-81f1-4c0e-8ac7-2d56344b417e\",\"userId\":\"1554e723-21c0-4fb7-ab23-ca3f57addc7a\",\"statusCode\":404}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"238","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED 127.0.0.1:6004","name":"Error","stack":"Error: connect ECONNREFUSED 127.0.0.1:6004\n    at Function.AxiosError.from (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/core/AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/adapters/http.js:593:25)\n    at RedirectableRequest.emit (node:events:514:28)\n    at ClientRequest.eventHandlers.<computed> (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/follow-redirects/index.js:14:24)\n    at ClientRequest.emit (node:events:514:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:514:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-10-22T14:25:28.274Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Acesso de ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar papel de usuário na criação de acesso à ambiente: usuário não encontrado\",\"meta\":{\"target\":[\"43dc7449-48b0-4091-b39c-bc3dc0be0c23\",\"4b58a6ec-81f1-4c0e-8ac7-2d56344b417e\",{\"role\":\"FREQUENTER\"}],\"statusCode\":404}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"292","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-10-23T22:12:01.740Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Acesso de ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar papel de usuário na criação de acesso à ambiente: usuário não encontrado\",\"meta\":{\"target\":[\"43dc7449-48b0-4091-b39c-bc3dc0be0c23\",\"4b58a6ec-81f1-4c0e-8ac7-2d56344b417e\",{\"role\":\"FREQUENTER\"}],\"statusCode\":404}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"292","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-10-23T22:16:55.534Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao buscar um ambiente: ambiente não encontrado\",\"meta\":{\"target\":\"c066fb59-a4ff-4dfd-b009-dd0a7a56d1ea\",\"statusCode\":404}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"175","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-10-26T17:36:30.749Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Acesso de ambiente\",\"type\":\"Error\",\"message\":\"Falha ao criar acesso à ambiente: registro já existe\",\"meta\":{\"target\":[\"5c289355-4247-4bc8-9502-f1513df0b624\",\"b4930791-a010-48b9-ad65-6b49b710218e\"],\"statusCode\":400}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"227","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-10-30T21:47:42.490Z"}
{"level":"error","message":"Falha ao se conectar com o serviço de usuários (500)","stack":[{"code":"ERR_BAD_REQUEST","config":{"adapter":"http","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6001/service/users/users/a6757685-8fc5-4607-8890-7016b67484a8","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 404","name":"AxiosError","stack":"AxiosError: Request failed with status code 404\n    at settle (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/adapters/http.js:572:11)\n    at IncomingMessage.emit (node:events:526:35)\n    at endReadableNT (node:internal/streams/readable:1359:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":404}],"timestamp":"2023-11-02T18:41:24.533Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-11-02T18:42:39.600Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-11-02T18:49:12.307Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-11-02T18:50:34.200Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-11-02T19:05:12.299Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-11-02T19:08:52.911Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-11-02T19:09:25.657Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{"code":"ERR_BAD_REQUEST","config":{"adapter":"http","data":"{\"type\":\"info\",\"message\":\"Evandro Lima solicitou acesso remoto ao ambiente Exemplo GoRN, o microcontrolador 28:85:cb:48:79:26 foi autorizado\",\"meta\":{\"environmentId\":\"643add69-377a-485e-8674-b1dc92aed30f\",\"esp8266Id\":2,\"userId\":\"a6757685-8fc5-4607-8890-7016b67484a8\"}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"268","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6005/service/audit/access","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 404","name":"AxiosError","stack":"AxiosError: Request failed with status code 404\n    at settle (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/adapters/http.js:572:11)\n    at IncomingMessage.emit (node:events:526:35)\n    at endReadableNT (node:internal/streams/readable:1359:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":404}],"timestamp":"2023-11-02T19:11:57.670Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{"code":"ERR_BAD_REQUEST","config":{"adapter":"http","data":"{\"type\":\"info\",\"message\":\"Evandro Lima solicitou acesso remoto ao ambiente Exemplo GoRN, o microcontrolador 28:85:cb:48:79:26 foi autorizado\",\"meta\":{\"environmentId\":\"643add69-377a-485e-8674-b1dc92aed30f\",\"esp8266Id\":2,\"userId\":\"a6757685-8fc5-4607-8890-7016b67484a8\"}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"268","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6005/service/audit/access","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 404","name":"AxiosError","stack":"AxiosError: Request failed with status code 404\n    at settle (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/axios/lib/adapters/http.js:572:11)\n    at IncomingMessage.emit (node:events:526:35)\n    at endReadableNT (node:internal/streams/readable:1359:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":404}],"timestamp":"2023-11-02T19:14:09.848Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'environment')","stack":["TypeError: Cannot read properties of undefined (reading 'environment')\n    at EnvAccessService.findAccessByUser (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_access\\env_access.service.ts:698:79)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-13T18:13:44.580Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'environment')","stack":["TypeError: Cannot read properties of undefined (reading 'environment')\n    at EnvAccessService.findAccessByUser (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_access\\env_access.service.ts:698:79)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-13T18:14:14.191Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'environment')","stack":["TypeError: Cannot read properties of undefined (reading 'environment')\n    at EnvAccessService.findAccessByUser (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_access\\env_access.service.ts:698:79)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-13T18:15:47.520Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'environment')","stack":["TypeError: Cannot read properties of undefined (reading 'environment')\n    at EnvAccessService.findAccessByUser (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_access\\env_access.service.ts:702:79)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-13T18:19:07.014Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessForMobileAccess (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:469:72)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-22T22:38:55.939Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessForMobileAccess (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:469:72)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-23T15:13:58.493Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessForMobileAccess (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:469:72)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-23T15:14:42.220Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessForMobileAccess (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:469:72)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-23T15:28:15.143Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessForMobileAccess (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:469:72)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-23T15:28:55.800Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessForMobileAccess (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:474:72)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-23T15:31:41.834Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessForMobileAccess (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:474:72)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-11-23T15:41:43.405Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'status')","stack":["TypeError: Cannot read properties of undefined (reading 'status')\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:60:30\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\operators\\catchError.ts:117:35\n    at OperatorSubscriber._this._error (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\operators\\OperatorSubscriber.ts:79:13)\n    at OperatorSubscriber.Subscriber.error (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\Subscriber.ts:91:12)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\axios\\dist\\http.service.js:65:28\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"timestamp":"2023-12-07T17:21:16.775Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'status')","stack":["TypeError: Cannot read properties of undefined (reading 'status')\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:62:30\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\operators\\catchError.ts:117:35\n    at OperatorSubscriber._this._error (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\operators\\OperatorSubscriber.ts:79:13)\n    at OperatorSubscriber.Subscriber.error (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\Subscriber.ts:91:12)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\axios\\dist\\http.service.js:65:28\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"timestamp":"2023-12-07T17:22:29.673Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'status')","stack":["TypeError: Cannot read properties of undefined (reading 'status')\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:62:30\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\operators\\catchError.ts:117:35\n    at OperatorSubscriber._this._error (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\operators\\OperatorSubscriber.ts:79:13)\n    at OperatorSubscriber.Subscriber.error (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\rxjs\\src\\internal\\Subscriber.ts:91:12)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\axios\\dist\\http.service.js:65:28\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"timestamp":"2023-12-07T17:23:17.936Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar papel de usuário durante criação de ambiente: usuário não é um admin\",\"meta\":{\"userId\":\"8ffa136c-2055-4c63-b255-b876d0a2accf\",\"statusCode\":403}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"215","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T17:23:40.398Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar papel de usuário durante criação de ambiente: usuário não é um admin\",\"meta\":{\"userId\":\"8ffa136c-2055-4c63-b255-b876d0a2accf\",\"statusCode\":403}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"215","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T17:24:10.055Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar papel de usuário durante criação de ambiente: usuário não é um admin\",\"meta\":{\"userId\":\"8ffa136c-2055-4c63-b255-b876d0a2accf\",\"statusCode\":403}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"215","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T17:24:44.586Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar papel de usuário durante criação de ambiente: usuário não é um admin\",\"meta\":{\"userId\":\"8ffa136c-2055-4c63-b255-b876d0a2accf\",\"statusCode\":403}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"215","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T17:25:39.550Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'id')","stack":["TypeError: Cannot read properties of undefined (reading 'id')\n    at EnvironmentService.create (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:112:37)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-12-07T17:26:38.108Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar papel de usuário durante criação de ambiente: usuário não é um admin\",\"meta\":{\"userId\":\"8ffa136c-2055-4c63-b255-b876d0a2accf\",\"statusCode\":403}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"215","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T17:27:05.268Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Info\",\"message\":\"Ambiente criado: teste\",\"meta\":{\"created_by\":\"8ffa136c-2055-4c63-b255-b876d0a2accf\",\"environmentId\":\"59b861b3-4d2a-4735-a1b7-5721a47f55ff\"}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"185","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T17:29:35.850Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao criar ambiente: conflito com registro existente\",\"meta\":{\"createdBy\":\"8ffa136c-2055-4c63-b255-b876d0a2accf\",\"target\":[\"name\"],\"statusCode\":409}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"199","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T17:39:13.166Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Gestor de Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao verificar se usuário possui acesso no ambiente durante criação de gestor: registro não encontrado\",\"meta\":{\"userId\":\"f8120a2d-8d60-44a5-81da-72bd75c5612b\",\"environmentId\":\"490a8c66-fec3-430c-8a5a-293551612a19\",\"statusCode\":404}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"297","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T18:22:19.369Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Ambiente\",\"type\":\"Info\",\"message\":\"Gestor de ambiente criado com sucesso\",\"meta\":{\"target\":[\"5458d2c5-73ab-4967-add9-de8b950b13ba\",\"f8120a2d-8d60-44a5-81da-72bd75c5612b\",\"490a8c66-fec3-430c-8a5a-293551612a19\"],\"statusCode\":201}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"238","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T18:22:19.383Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":"http","data":"{\"topic\":\"Acesso de ambiente\",\"type\":\"Error\",\"message\":\"Falha ao buscar paridade em ambiente na criação de gestor de ambiente: usuário é um gestor ativo\",\"meta\":{\"target\":[\"f8120a2d-8d60-44a5-81da-72bd75c5612b\",\"490a8c66-fec3-430c-8a5a-293551612a19\"],\"statusCode\":403}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"273","Content-Type":"application/json","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:6004","name":"Error","stack":"Error: connect ECONNREFUSED ::1:6004\n    at Function.AxiosError.from (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:593:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:14:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2023-12-07T18:22:50.868Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'environment')","stack":["TypeError: Cannot read properties of undefined (reading 'environment')\n    at EnvManagerService.findAccessByUser (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:446:71)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-12-07T22:23:48.287Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of undefined (reading 'environment')","stack":["TypeError: Cannot read properties of undefined (reading 'environment')\n    at EnvManagerService.findAccessByUser (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:449:71)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-12-07T22:26:00.218Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvAccessService.findAccessByUser (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/src/env_access/env_access.service.ts:799:74)\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-proxy.js:9:17"],"timestamp":"2023-12-08T22:25:51.352Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvAccessService.findAccessByUser (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/src/env_access/env_access.service.ts:799:74)\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-proxy.js:9:17"],"timestamp":"2023-12-08T22:25:54.613Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvAccessService.findAccessByUser (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/src/env_access/env_access.service.ts:799:74)\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-proxy.js:9:17"],"timestamp":"2023-12-08T22:25:55.973Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvAccessService.findAccessByUser (/home/kias/Dev/laica/Access-control-microservices-monorepo/environments/src/env_access/env_access.service.ts:819:76)\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at /home/kias/Dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-proxy.js:9:17"],"timestamp":"2023-12-08T22:56:21.411Z"}
{"level":"error","message":"Falha ao se conectar com o serviço de usuários (500)","stack":[{"code":"ERR_BAD_REQUEST","config":{"adapter":"http","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6001/service/users/undefined","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 400","name":"AxiosError","stack":"AxiosError: Request failed with status code 400\n    at settle (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:572:11)\n    at IncomingMessage.emit (node:events:529:35)\n    at endReadableNT (node:internal/streams/readable:1368:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":400}],"timestamp":"2023-12-11T16:43:24.457Z"}
{"level":"error","message":"Falha ao se conectar com o serviço de usuários (500)","stack":[{"code":"ERR_BAD_REQUEST","config":{"adapter":"http","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","User-Agent":"axios/1.5.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"get","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6001/service/users/undefined","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"Request failed with status code 400","name":"AxiosError","stack":"AxiosError: Request failed with status code 400\n    at settle (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:572:11)\n    at IncomingMessage.emit (node:events:529:35)\n    at endReadableNT (node:internal/streams/readable:1368:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":400}],"timestamp":"2023-12-11T16:48:44.592Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-12-11T16:51:41.602Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{}],"timestamp":"2023-12-11T16:53:18.499Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessByUser (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\env_manager\\env_manager.service.ts:467:67)\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-execution-context.js:46:28\n    at C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@nestjs\\core\\router\\router-proxy.js:9:17"],"timestamp":"2023-12-11T21:17:51.733Z"}
{"context":"ExceptionsHandler","level":"error","message":"\nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.","stack":["PrismaClientValidationError: \nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.\n    at En (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at Cn.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6516)\n    at Cn.handleAndLogRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6206)\n    at Cn.request (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:5926)\n    at l (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:128:9968)"],"timestamp":"2023-12-19T17:38:36.999Z"}
{"context":"ExceptionsHandler","level":"error","message":"\nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.","stack":["PrismaClientValidationError: \nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.\n    at En (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at Cn.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6516)\n    at Cn.handleAndLogRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6206)\n    at Cn.request (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:5926)\n    at l (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:128:9968)"],"timestamp":"2023-12-19T20:53:55.842Z"}
{"context":"ExceptionsHandler","level":"error","message":"\nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.","stack":["PrismaClientValidationError: \nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.\n    at En (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at Cn.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6516)\n    at Cn.handleAndLogRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6206)\n    at Cn.request (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:5926)\n    at l (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:128:9968)"],"timestamp":"2023-12-26T13:52:37.759Z"}
{"context":"ExceptionsHandler","level":"error","message":"\nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.","stack":["PrismaClientValidationError: \nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.\n    at En (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at Cn.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6516)\n    at Cn.handleAndLogRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6206)\n    at Cn.request (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:5926)\n    at l (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:128:9968)"],"timestamp":"2023-12-26T13:53:00.439Z"}
{"context":"ExceptionsHandler","level":"error","message":"\nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.","stack":["PrismaClientValidationError: \nInvalid `this.prisma.environment.findMany()` invocation in\nC:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\src\\environment\\environment.service.ts:714:31\n\n  711 const select = findAllDto.select ? findAllDto.select : {};\n  712 \n  713 const [environments, total] = await this.prisma.$transaction([\n→ 714   this.prisma.environment.findMany({\n          skip: 0,\n          take: 10000,\n          orderBy: {\n            created_at: \"desc\"\n          },\n          where: {\n            active: true\n          },\n          select: {\n        ?   id?: true,\n        ?   name?: true,\n        ?   description?: true,\n        ?   active?: true,\n        ?   created_by?: true,\n        ?   user_name?: true,\n        ?   latitude?: true,\n        ?   longitude?: true,\n        ?   created_at?: true,\n        ?   updated_at?: true,\n        ?   environment_user?: true,\n        ?   environment_manager?: true,\n        ?   environment_restriction_access?: true,\n        ?   environment_temporary_access?: true,\n        ?   _count?: true\n          }\n        })\n\nThe `select` statement for type environment must not be empty. Available options are marked with ?.\n    at En (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:116:5888)\n    at Cn.handleRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6516)\n    at Cn.handleAndLogRequestError (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:6206)\n    at Cn.request (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:123:5926)\n    at l (C:\\Users\\LAICA 1\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\@prisma\\client\\runtime\\library.js:128:9968)"],"timestamp":"2023-12-26T16:09:35.730Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":["xhr","http"],"data":"{\"topic\":\"Ambientes\",\"type\":\"Error\",\"message\":\"Falha ao buscar ambientes, um erro inesperado ocorreu necessário verificar logs de erro do serviço\",\"meta\":{\"target\":\"users\",\"statusCode\":500}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"192","Content-Type":"application/json","User-Agent":"axios/1.6.2"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:80","name":"Error","stack":"Error: connect ECONNREFUSED ::1:80\n    at Function.AxiosError.from (C:\\Users\\aaaaa\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\aaaaa\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:606:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\aaaaa\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:38:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2024-02-28T18:12:33.464Z"}
{"level":"error","message":"Falha ao enviar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":["xhr","http"],"data":"{\"topic\":\"Ambientes\",\"type\":\"Error\",\"message\":\"Falha ao buscar ambientes, um erro inesperado ocorreu necessário verificar logs de erro do serviço\",\"meta\":{\"target\":\"users\",\"statusCode\":500}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"192","Content-Type":"application/json","User-Agent":"axios/1.6.2"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED ::1:80","name":"Error","stack":"Error: connect ECONNREFUSED ::1:80\n    at Function.AxiosError.from (C:\\Users\\aaaaa\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\core\\AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\aaaaa\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\axios\\lib\\adapters\\http.js:606:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (C:\\Users\\aaaaa\\dev\\Access-control-microservices-monorepo\\environments\\node_modules\\follow-redirects\\index.js:38:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2024-02-28T18:14:41.078Z"}
{"level":"error","message":"Falha ao criar log","stack":[{"code":"ECONNREFUSED","config":{"adapter":["xhr","http"],"data":"{\"topic\":\"Ambiente\",\"type\":\"Error\",\"message\":\"Falha ao buscar um ambiente, id inválido\",\"meta\":{\"target\":\"env-manager\",\"statusCode\":400}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"138","Content-Type":"application/json","User-Agent":"axios/1.6.2"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:6004/service/audit/logs","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"message":"connect ECONNREFUSED 127.0.0.1:6004","name":"Error","stack":"Error: connect ECONNREFUSED 127.0.0.1:6004\n    at Function.AxiosError.from (/home/kias/dev/Access-control-microservices-monorepo/environments/node_modules/axios/lib/core/AxiosError.js:89:14)\n    at RedirectableRequest.handleRequestError (/home/kias/dev/Access-control-microservices-monorepo/environments/node_modules/axios/lib/adapters/http.js:606:25)\n    at RedirectableRequest.emit (node:events:517:28)\n    at ClientRequest.eventHandlers.<computed> (/home/kias/dev/Access-control-microservices-monorepo/environments/node_modules/follow-redirects/index.js:38:24)\n    at ClientRequest.emit (node:events:517:28)\n    at Socket.socketErrorListener (node:_http_client:501:9)\n    at Socket.emit (node:events:517:28)\n    at emitErrorNT (node:internal/streams/destroy:151:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)","status":null}],"timestamp":"2024-04-12T23:42:44.638Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessByUser (/home/kias/dev/laica/Access-control-microservices-monorepo/environments/src/env_manager/env_manager.service.ts:458:67)\n    at /home/kias/dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at /home/kias/dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-proxy.js:9:17"],"timestamp":"2024-04-20T21:29:56.407Z"}
{"context":"ExceptionsHandler","level":"error","message":"Cannot read properties of null (reading 'environment')","stack":["TypeError: Cannot read properties of null (reading 'environment')\n    at EnvManagerService.findAccessByUser (/home/kias/dev/laica/Access-control-microservices-monorepo/environments/src/env_manager/env_manager.service.ts:461:67)\n    at /home/kias/dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at /home/kias/dev/laica/Access-control-microservices-monorepo/environments/node_modules/@nestjs/core/router/router-proxy.js:9:17"],"timestamp":"2024-04-20T21:31:15.471Z"}
